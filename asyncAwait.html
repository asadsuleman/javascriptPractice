<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async await</title>
</head>

<body>

    <h1>Async Await</h1>


    <script>
        // // creating a async function for getting posts
        // //syntax

        // const getPost = async() => {
        //     //what if the data isn't recived 
        //     //for catching errors put all the data in try catch

        //     try {
        //         // fetching posts from a server and await is used for break;
        //         const response = await fetch("https://jsonplaceholder.typicode.com/posts")

        //         const data = await response.json(); // here await is used for break , means do not run the next line until its not converted into json file thats what 'await' do

        //         await console.log('fetched posts are   ', response);

        //         await console.log('converted response to json ', data)
        //     } catch (error) {
        //         console.log('catching error ', errror);
        //     }
        // }
        // getPost();









        const getPost = async() => {

            try {

                const post = await fetch("https://jsonplaceholder.typicode.com/posts")
                const postData = await post.json();

                const titel = postData.map((output) => {
                    return {
                        title: output.title
                    }
                });
                console.log("getting only titels ", titel);

                const user = await fetch("https://jsonplaceholder.typicode.com/users")
                const userData = await user.json();

                await console.log('converted response to json ', postData, userData)
            } catch (error) {
                console.log('catching error ', error);
            }
        }
        getPost();
    </script>

</body>

</html>